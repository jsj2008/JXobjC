<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<title>octext Specification Sheet</title>
</head>
<body>
<h1>octext Specification Sheet</h1>

<hr>
Portable Object Compiler (c) 1997,98,99,2003.  All Rights Reserved.<p>
</p>
<h1>Text</h1>
<b>Inherits from:</b> Object<p>
<b>Maturity Index:</b> Experimental</p>
<p>
</p>
<h2>Class Description</h2>
The <b>Text</b> class associates to a <b>String</b> instance a <b>RunArray</b>.  The runs for a string, consist of string segments that have the same text attributes, such as font, boldface, fontsize etc.<p>
</p>
<p>
</p>
<h2>Method types</h2>
<h3><b>Creation</b></h3>
<ul>
<li><a href="#1">new</a></li>
<li><a href="#2">new:</a></li>
<li><a href="#4">str:</a></li>
<li><a href="#5">sprintf:</a></li>
<li><a href="#6">fromString:</a></li>
<li><a href="#7">string:attribute:</a></li>
<li><a href="#9">copy</a></li>
<li><a href="#10">free</a></li>
</ul>
<h3><b>Comparison</b></h3>
<ul>
<li><a href="#11">hash</a></li>
<li><a href="#12">isEqual:</a></li>
</ul>
<h3><b>Accessing</b></h3>
<ul>
<li><a href="#13">string</a></li>
<li><a href="#14">runs</a></li>
<li><a href="#15">str</a></li>
<li><a href="#16">size</a></li>
<li><a href="#17">charAt:</a></li>
<li><a href="#18">charAt:put:</a></li>
<li><a href="#19">at:insert:</a></li>
<li><a href="#20">at:insert:count:</a></li>
<li><a href="#21">deleteFrom:to:</a></li>
<li><a href="#22">concat:</a></li>
<li><a href="#23">concatSTR:</a></li>
</ul>
<h3><b>Emphasis</b></h3>
<ul>
<li><a href="#24">allBold</a></li>
<li><a href="#25">makeBoldFrom:to:</a></li>
<li><a href="#26">addAttribute:</a></li>
<li><a href="#27">addAttribute:from:to:</a></li>
<li><a href="#28">attributesAt:</a></li>
<li><a href="#29">runLengthFor:</a></li>
</ul>
<h3><b>Format Conversions</b></h3>
<ul>
<li><a href="#32">asString</a></li>
<li><a href="#33">asText</a></li>
<li><a href="#34">asParagraph</a></li>
</ul>
<h3><b>Printing</b></h3>
<ul>
<li><a href="#35">printOn:</a></li>
</ul>
<h2>Methods</h2>
<h3><a name="1">new</a></h3>
<blockquote>+<b>new</b>
</blockquote>
Creates an instance whose value is set to the empty string.<p>
</p>
<h3><a name="2">new:</a></h3>
<blockquote>+<b>new</b>:(unsigned)<i>nChars</i>
</blockquote>
Creates an instance whose value is set to the empty string, can hold at least <i>nChars</i> without having to expand.<p>
</p>
<h3><a name="4">str:</a></h3>
<blockquote>+<b>str</b>:(STR)<i>aString</i>
</blockquote>
Creates an instance whose value is set to a copy of <i>aString</i>.  If <i>aString</i> is NULL, creates an instance whose value is set to the empty string. <p>
</p>
<h3><a name="5">sprintf:</a></h3>
<blockquote>+<b>sprintf</b>:(STR)<i>format,...</i>
</blockquote>
Returns a new instace initialized just as the standard C library <i>sprintf()</i>.  See the documentation on <i>sprintf()</i> for the formats and variable declarations.<p>
</p>
<h3><a name="6">fromString:</a></h3>
<blockquote>+<b>fromString</b>:<i>aString</i>
</blockquote>
Creates an instance whose value is set to <i>aString</i>.<p>
</p>
<h3><a name="7">string:attribute:</a></h3>
<blockquote>+<b>string</b>:<i>aString</i><b>attribute</b>:<i>attrib</i>
</blockquote>
Creates an instance whose value is set to <i>aString</i> and then sends itself an <b>addAttribute:</b> message.<p>
</p>
<h3><a name="9">copy</a></h3>
<blockquote>-<b>copy</b>
</blockquote>
Returns a copy of the receiver with its internal C string copied as well.<p>
</p>
<h3><a name="10">free</a></h3>
<blockquote>-<b>free</b>
</blockquote>
Frees the receiver and its internal C string as well.<p>
</p>
<h3><a name="11">hash</a></h3>
<blockquote>- (unsigned)<b>hash</b>
</blockquote>
Returns a hash value based upon the contents of the string held in the receiver.<p>
</p>
<h3><a name="12">isEqual:</a></h3>
<blockquote>- (BOOL)<b>isEqual</b>:<i>aStr</i>
</blockquote>
Returns YES if the string and runarray contained by <i>aStr</i> is equal to the contents of the receiver.<p>
</p>
<h3><a name="13">string</a></h3>
<blockquote>-<b>string</b>
</blockquote>
Returns the String instance for this Text object.<p>
</p>
<h3><a name="14">runs</a></h3>
<blockquote>-<b>runs</b>
</blockquote>
Returns the RunArray instance for this Text object.<p>
</p>
<h3><a name="15">str</a></h3>
<blockquote>- (STR)<b>str</b>
</blockquote>
Returns a pointer to the NULL-terminated C string stored in the receiver.<p>
</p>
<h3><a name="16">size</a></h3>
<blockquote>- (unsigned)<b>size</b>
</blockquote>
Returns the size of the String instance for this Text object.  The following all return the same value :<p>
</p>
<blockquote><pre>
[text size];
[[text string] size];
[[text runs] size];
</pre></blockquote>
<h3><a name="17">charAt:</a></h3>
<blockquote>- (char)<b>charAt</b>:(unsigned)<i>anOffset</i>
</blockquote>
Returns the character at <i>anOffset</i> or <b>zero</b> if <i>anOffset</i> is greater than the length of the C string.<p>
</p>
<h3><a name="18">charAt:put:</a></h3>
<blockquote>- (char)<b>charAt</b>:(unsigned)<i>anOffset</i><b>put</b>:(char)<i>aChar</i>
</blockquote>
Replaces the character at <i>anOffset</i> with <i>aChar</i> and returns the old character which was in that location.  Returns <b>zero</b> if <i>anOffset</i> is greater than the length of the C string.<p>
</p>
<h3><a name="19">at:insert:</a></h3>
<blockquote>-<b>at</b>:(unsigned)<i>anOffset</i><b>insert</b>:<i>aString</i>
</blockquote>
<h3><a name="20">at:insert:count:</a></h3>
<blockquote>-<b>at</b>:(unsigned)<i>anOffset</i><b>insert</b>:(char*)<i>aString</i><b>count</b>:(int)<i>size</i>
</blockquote>
<h3><a name="21">deleteFrom:to:</a></h3>
<blockquote>-<b>deleteFrom</b>:(unsigned)<i>p</i><b>to</b>:(unsigned)<i>q</i>
</blockquote>
<h3><a name="22">concat:</a></h3>
<blockquote>-<b>concat</b>:<i>b</i>
</blockquote>
<h3><a name="23">concatSTR:</a></h3>
<blockquote>-<b>concatSTR</b>:(STR)<i>b</i>
</blockquote>
<h3><a name="24">allBold</a></h3>
<blockquote>-<b>allBold</b>
</blockquote>
This message is equivalent to,<p>
</p>
<blockquote><pre>
[self makeBoldFrom:0 to:[self size] - 1].
</pre></blockquote>
Returns <b>self</b> (the text object).<p>
</p>
<h3><a name="25">makeBoldFrom:to:</a></h3>
<blockquote>-<b>makeBoldFrom</b>:(unsigned)<i>p</i><b>to</b>:(unsigned)<i>q</i>
</blockquote>
Adds a boldface <b>TextAttribute</b> for the characters from index <i>p</i> to <i>q</i> (including the characters at offset <i>p</i> and <i>q</i>).  A boldface attribute has <b>emphasiscode</b> equal to 1.<p>
</p>
<h3><a name="26">addAttribute:</a></h3>
<blockquote>-<b>addAttribute</b>:<i>attribute</i>
</blockquote>
This message is equivalent to,<p>
</p>
<blockquote><pre>
[self addAttribute:attribute from:0 to:[self size] - 1].
</pre></blockquote>
Returns <b>self</b> (the text object).<p>
</p>
<h3><a name="27">addAttribute:from:to:</a></h3>
<blockquote>-<b>addAttribute</b>:<i>attribute</i><b>from</b>:(unsigned)<i>p</i><b>to</b>:(unsigned)<i>q</i>
</blockquote>
Adds <i>attribute</i> to the string segments between <i>p</i> and <i>q</i>.<p>
</p>
<h3><a name="28">attributesAt:</a></h3>
<blockquote>-<b>attributesAt</b>:(unsigned)<i>i</i>
</blockquote>
Returns an <b>OrdCltn</b> of TextAttribute instances for the character at index <i>i</i>.<p>
</p>
<h3><a name="29">runLengthFor:</a></h3>
<blockquote>- (unsigned)<b>runLengthFor</b>:(unsigned)<i>i</i>
</blockquote>
Returns the number of remaining characters in the string segment to which the character at position <i>i</i> belongs.  If <i>i</i> is the first character of a run, this method returns the size of the run.  Otherwise it returns the size minus the index of character in the run.<p>
</p>
<h3><a name="32">asString</a></h3>
<blockquote>-<b>asString</b>
</blockquote>
Equivalent to <b>string</b>.<p>
</p>
<h3><a name="33">asText</a></h3>
<blockquote>-<b>asText</b>
</blockquote>
Returns the object itself.<p>
</p>
<h3><a name="34">asParagraph</a></h3>
<blockquote>-<b>asParagraph</b>
</blockquote>
Returns a paragraph for this text object.<p>
</p>
<h3><a name="35">printOn:</a></h3>
<blockquote>-<b>printOn</b>:(IOD)<i>aFile</i>
</blockquote>
Prints the Text for the string contained by this instance.  Returns the receiver.<p></p>
</body>
</html>
