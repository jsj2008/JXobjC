<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<title>idarray Specification Sheet</title>
</head>
<body>
<h1>idarray Specification Sheet</h1>

<hr>
Portable Object Compiler (c) 1998,2003.  All Rights Reserved.<p>
</p>
<h1>IdArray</h1>
<b>Inherits from:</b> Array<p>
</p>
<h2>Class Description</h2>
<b>IdArray</b> instances are used to hold objects (<b>nil</b> is allowed).  This class is somewhat similar to <b>String</b>, the difference being that a String is an Array of bytes, while this class provides a somewhat similar API to <i>strings of id</i>.<p>
<b>Note:</b> This class is present mostly for compatibility with ICpak101.  You most likely want to use <b>OrdCltn</b> instead of this class.</p>
<p>
The method <b>size</b> returns the number of non-nil objects in the <b>IdArray</b>.  The method <b>capacity</b> returns the total number of objects that the array can hold.</p>
<p>
</p>
<h2>Method types</h2>
<h3><b>Creation</b></h3>
<ul>
<li><a href="#0">new</a></li>
<li><a href="#1">new:</a></li>
<li><a href="#2">with:</a></li>
<li><a href="#3">copy</a></li>
<li><a href="#4">deepCopy</a></li>
<li><a href="#5">free</a></li>
</ul>
<h3><b>Interrogation</b></h3>
<ul>
<li><a href="#7">size</a></li>
<li><a href="#8">at:</a></li>
<li><a href="#9">at:put:</a></li>
</ul>
<h3><b>Resizing</b></h3>
<ul>
<li><a href="#10">capacity</a></li>
<li><a href="#11">capacity:</a></li>
<li><a href="#12">packContents</a></li>
</ul>
<h3><b>Printing</b></h3>
<ul>
<li><a href="#13">printOn:</a></li>
</ul>
<h3><b>Archiving</b></h3>
<ul>
<li><a href="#14">fileOutOn:</a></li>
<li><a href="#15">fileInFrom:</a></li>
</ul>
<h2>Methods</h2>
<h3><a name="0">new</a></h3>
<blockquote>+<b>new</b>
</blockquote>
Creates an instance whose value is set to the empty array.<p>
</p>
<h3><a name="1">new:</a></h3>
<blockquote>+<b>new</b>:(unsigned)<i>n</i>
</blockquote>
Creates an instance of <i>n</i> <b>nil</b> objects.<p>
</p>
<h3><a name="2">with:</a></h3>
<blockquote>+<b>with</b>:(int)<i>nArgs,...</i>
</blockquote>
Creates an instance of <i>nArgs</i> objects, using a variable number of arguments, that may contain <b>nil</b> objects.<p>
</p>
<blockquote><pre>
id myArray = [IdArray with:3,nil,[Object new],nil];
</pre></blockquote>
<h3><a name="3">copy</a></h3>
<blockquote>-<b>copy</b>
</blockquote>
Returns a copy of the receiver with its internal C array copied as well (but not the objects that it contains).<p>
</p>
<h3><a name="4">deepCopy</a></h3>
<blockquote>-<b>deepCopy</b>
</blockquote>
Like <b>copy</b>, but also sends <b>deepCopy</b> messages to the objects in the IdArray.<p>
</p>
<h3><a name="5">free</a></h3>
<blockquote>-<b>free</b>
</blockquote>
Frees the receiver and its internal C array as well.<p>
</p>
<h3><a name="7">size</a></h3>
<blockquote>- (unsigned)<b>size</b>
</blockquote>
Returns the number of non-nil objects in the array.<p>
<b>Note:</b> For Stepstone compatibility (with ICpak101) this method is, for this class, not the same as <b>capacity</b>.  In the case of the <b>IntArray</b> class, <b>size</b> and <b>capacity</b> are the same.</p>
<p>
</p>
<h3><a name="8">at:</a></h3>
<blockquote>-<b>at</b>:(unsigned)<i>anOffset</i>
</blockquote>
Returns the object at <i>anOffset</i> or signals the <b>OutOfBounds</b> exception if <i>anOffset</i> is greater than the length of the array.<p>
Unlike for <b>OrdCltn</b> instances, this method may return a nil object.</p>
<p>
</p>
<h3><a name="9">at:put:</a></h3>
<blockquote>-<b>at</b>:(unsigned)<i>anOffset</i><b>put</b>:<i>anObject</i>
</blockquote>
Replaces the object at <i>anOffset</i> with <i>anObject</i> and returns the old object which was in that location.  Generates an out of bounds exception if <i>anOffset</i> is greater than the length of the array.<p>
Unlike for <b>OrdCltn</b> instances, this method will accept a nil object.</p>
<p>
</p>
<h3><a name="10">capacity</a></h3>
<blockquote>- (unsigned)<b>capacity</b>
</blockquote>
Returns the total number of objects in the IdArray. (nil or non-nil).<p>
</p>
<h3><a name="11">capacity:</a></h3>
<blockquote>-<b>capacity</b>:(unsigned)<i>nSlots</i>
</blockquote>
Changes the capacity to <i>nSlots</i>.  If <i>nSlots</i> is larger than the current capacity, the memory added at the end will be zero-filled.  If <i>nSlots</i> is less than the current capacity, the array is truncated.<p>
</p>
<h3><a name="12">packContents</a></h3>
<blockquote>-<b>packContents</b>
</blockquote>
Removes nil objects while preserving the order of elements in the <b>IdArray</b>.  Used to eliminate the 'hole' left by a <b>at:put:</b> message with a <b>nil</b> argument.<p>
</p>
<h3><a name="13">printOn:</a></h3>
<blockquote>-<b>printOn</b>:(IOD)<i>aFile</i>
</blockquote>
Prints the array to <i>aFile</i> without appending a newline.  Returns the receiver.<p>
</p>
<h3><a name="14">fileOutOn:</a></h3>
<blockquote>-<b>fileOutOn</b>:<i>aFiler</i>
</blockquote>
Writes the array on <i>aFiler</i>.  Returns the receiver.<p>
</p>
<h3><a name="15">fileInFrom:</a></h3>
<blockquote>-<b>fileInFrom</b>:<i>aFiler</i>
</blockquote>
Reads a array object from <i>aFiler</i>.  Returns the receiver.<p></p>
</body>
</html>
