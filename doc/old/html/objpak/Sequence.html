<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<title>sequence Specification Sheet</title>
</head>
<body>
<h1>sequence Specification Sheet</h1>

<hr>
Portable Object Compiler (c) 1997,98.  All Rights Reserved.<p>
</p>
<h1>Sequence</h1>
<b>Inherits from:</b> Object<p>
</p>
<h2>Class Description</h2>
Sequences are used to loop or <i>sequence</i> over a group of objects.  Typically, an <b>Sequence</b> instance is generated by using some method like <b>OrdCltn</b>'s <b>eachElement</b>.  Then, within a loop, one can send <b>next</b> messages to the sequence until the end is reached (when the <b>next</b> method returns <b>nil</b>).  Finally, after using the sequence, you have to free the sequence object.<p>
</p>
<h2>Warning</h2>
Using a sequence can lead to problems if, in sequencing over a collection, that collection is modified, e.g., as in the following :<p>
</p>
<blockquote><pre>
id item;
id aSeq;

aSeq = [aCol eachElement];
while ((item = [aSeq next])) [aCol add:something]; /* WRONG !!! */
aSeq = [aSeq free];
</pre></blockquote>
You may not modify a group of objects while sequencing over its contents.<p>
</p>
<h2>Method types</h2>
<h3><b>Creation</b></h3>
<ul>
<li><a href="#3">copy</a></li>
<li><a href="#4">free</a></li>
</ul>
<h3><b>Interrogation</b></h3>
<ul>
<li><a href="#6">size</a></li>
</ul>
<h3><b>Accessing</b></h3>
<ul>
<li><a href="#7">next</a></li>
<li><a href="#8">peek</a></li>
<li><a href="#9">previous</a></li>
<li><a href="#10">first</a></li>
<li><a href="#11">last</a></li>
</ul>
<h3><b>Printing</b></h3>
<ul>
<li><a href="#12">printOn:</a></li>
</ul>
<h3><b>Performing</b></h3>
<ul>
<li><a href="#13">do:</a></li>
</ul>
<h2>Methods</h2>
<h3><a name="3">copy</a></h3>
<blockquote>-<b>copy</b>
</blockquote>
Returns a copy of the sequence.  Can be used independently of the original sequence.<p>
</p>
<h3><a name="4">free</a></h3>
<blockquote>-<b>free</b>
</blockquote>
Frees the receiver, but not the objects in the collection being sequenced over.<p>
</p>
<h3><a name="6">size</a></h3>
<blockquote>- (unsigned)<b>size</b>
</blockquote>
Returns the total number of items in the sequence.<p>
</p>
<h3><a name="7">next</a></h3>
<blockquote>-<b>next</b>
</blockquote>
Returns the next object in the sequence if there is one and advances the sequence.  When it reaches the end of the sequence, returns <b>nil</b>.<p>
</p>
<h3><a name="8">peek</a></h3>
<blockquote>-<b>peek</b>
</blockquote>
Returns the next object in the sequence if there is one, but does not advance the sequence.  When it reaches the end of the sequence, returns <b>nil</b>.<p>
</p>
<h3><a name="9">previous</a></h3>
<blockquote>-<b>previous</b>
</blockquote>
Returns the object that was returned by the last <b>next</b> message.  If there were no <b>next</b> messages since the sequence was created, or the sequence is empty, returns <b>nil</b>.  Doesn't affect the current position in the sequence.<p>
</p>
<h3><a name="10">first</a></h3>
<blockquote>-<b>first</b>
</blockquote>
Returns the first object in the sequence, unlesss there are no members in the sequence, in which case it returns <b>nil</b>.  Doesn't affect the current position in the sequence.<p>
</p>
<h3><a name="11">last</a></h3>
<blockquote>-<b>last</b>
</blockquote>
Returns the last object in the sequence, unlesss there are no members in the sequence, in which case it returns <b>nil</b>.  Doesn't affect the current position in the sequence.<p>
</p>
<h3><a name="12">printOn:</a></h3>
<blockquote>-<b>printOn</b>:(IOD)<i>aFile</i>
</blockquote>
Prints a newline separated list of the objects in the sequence to <i>aFile</i>, by sending each individual object a <b>printOn:</b> message.  Returns the sequence when there are no more elements left.<p>
</p>
<h3><a name="13">do:</a></h3>
<blockquote>-<b>do</b>:<i>aBlock</i>
</blockquote>
Performs <i>aBlock</i> for the remaining members of a sequence.  <i>aBlock</i> should take one argument, which is the element.  Typically used as in,<p>
</p>
<blockquote><pre>
[[aDictionary eachValue] do:{ :each | [each show]; }];
</pre></blockquote>
</body>
</html>
